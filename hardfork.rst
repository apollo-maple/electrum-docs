フォークが発生した場合のElectrumを用いたコインの分離方法
===================================================

注意：
-----

この文書はElectrum2.9用に更新されています。

フォークとは何ですか？
-------------------

ブロックチェーンのフォーク（分岐）は、逸脱するネットワークがオリジナルのチェーンから枝分かれして競合するブロックのチェーンが生成、維持されると発生します。本質的にMonacoin（暗号通貨）の別のバージョンが生まれ、独自のブロックチェーン、ルールセット、市場価値を持ちます。

Monacoinブロックチェーンのフォークが発生した場合、二つの別々の通貨が同時に存在し、異なる市場価値を持ちます。


コインを分離するとはどういう意味ですか？
------------------------------------

オリジナルブロックチェーン上のアドレスには新しいチェーン上での同じ金額が含まれています。

フォーク以前にMonacoinを所持していた場合、フォーク後にこれらのコインを使用するトランザクションは一般的には両方のチェーンで有効です。つまり、あなたは両方のコインを同時に使用するかもしれないということです。これは「リプレイ」と呼ばれています。これを防ぐには、両方のチェーンで異なるトランザクションを使用してコインを移動させる必要があります。


フォークの検出
-------------

Electrum(バージョン2.9以上)はサーバ間のコンセンサス障害（ブロックチェーンのフォーク）を検出し、ユーザーがフォークのブランチを選択できるようにします。
  
* ElectrumはMonacoinブロックチェーンにおけるフォークの、異なるブランチに追従しているかもしれない複数のサーバから送信されるブロックヘッダをダウンロードし検証します。線形性シーケンスの代わりにブロックヘッダは木構造で編成されます。分岐点は、バイナリ検索を使用して効率的に配置されます。MCVの目的は、古典的なSPVモデルでは見えないブロックチェーンフォークを検出して処理することです。
  
* ブロックチェーンフォークの希望のブランチはネットワークダイヤログを使用して選択できます。ブランチは、分岐ブロックのハッシュと高さによって識別されます。RBFトランザクションを使用してコインの分離が可能です（チュートリアルが追加されます）。

この機能を使用すると、あなたがコインを消費するチェーンとネットワークを選別することができます。

手順
----
    
  1. 準備
  
     a. メニュー ➞ 表示 ➞ 表示 コイン
     b. メニュー ➞ ツール ➞ 設定 ➞ Propose Replace-By-Fee ➞ "Always"
    
  
  2. チェーン/ネットワークを選択する
  
     a. メニュー ➞ ツール ➞ ネットワーク
     
         ブランチは異なる高さでは異なるハッシュを持つことに注意してください。ブロックエクスプローラーを使ってハッシュと高さを確認することであなたが度のチェーン上にいるか確認することができます。

            .. image:: png/coin_splitting/select_main_chain.png
            .. image:: png/coin_splitting/chain_search_height.png
            .. image:: png/coin_splitting/chain_verify_hash.png
      
   3. あなた自身にコインを送信する
   
      a. 受信アドレスを送信タブにコピー
      b. 分離したいコインの数を入力し素（全ての場合"!"を入力）
      c. "Replaceable"をチェック
      d. 送信 ➞ 署名 ➞ 発信

         
   4. 1つのネットワークにトランザクションが承認されるまで待つ
   
      a. ネットネットワークパネルを介してチェーンを切り替え、トランザクションステータスを監視する
     
      b. 1つのチェーン上でトランザクションが承認されるのを確認するまで待つ

         .. image:: png/coin_splitting/unconfirmed.png
         .. image:: png/coin_splitting/confirmed.png
      
      c. 即座に未承認トランザクションで"RBF"を使用して"Increase fee"を行う

         .. image:: png/coin_splitting/increase_fee.png
   
   5. トランザクションが両方のチェーンで承認されるのを待つ

   6. トランザクションがそれぞれのチェーンで異なるTXIDを持っていることを確認する

         .. image:: png/coin_splitting/main_chain_txid.png
         .. image:: png/coin_splitting/alternate_chain_txid.png

これでもうコインがそれぞれのチェーンで別々に使用できます。もし失敗しても、あなた自身に送信しているため害はありません。もう一度挑戦してください。
